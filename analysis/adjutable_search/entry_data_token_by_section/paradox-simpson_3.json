{
    "main_text": "Definition and Mathematical Characterization || Necessary and Sufficient Conditions\n2.2 Necessary and Sufficient Conditions\n\nWe proceed to characterizing the mathematical conditions under which\nSimpson\u2019s Paradox occurs. We have already suggested that the\nparadox arises in the medical example due to correlations between the\ntreatment variable and the partitioning variable, and we can now make\nthis more precise:\n\n\nTheorem 1 (Lindley & Novick 1981; Mittal\n1991): If \\(\\alpha(D) > 0\\) and association reversal occurs\nfor the subpopulations characterized by attribute \\(\\r{M}\\) and\n\\(\\neg\\r{M}\\), (i.e., \\(\\alpha(D_1), \\alpha(D_2) \\le 0\\)), then\neither\n\n\\(\\r{M}\\) is positively related to \\(\\r{S}\\) and \\(\\r{T}\\);\nor\n\\(\\r{M}\\) is positively related to \\(\\neg\\r{S}\\) and\n\\(\\neg\\r{T}\\).\n\n\n\nAs Theorem 1 makes clear, the lack of correlation between \\(\\r{M}\\)\nand \\(\\r{T}\\) is sufficient to rule out association reversals (and\nthus YAP as well). Does it also rule out the more general amalgamation\nparadox? The answer to this depends on which measure of\nassociation one chooses for \\(\\alpha\\). Discussions of\nSimpson\u2019s Paradox commonly treat association as the\ndifference in the success rate between the treated and the\nuntreated, but this is only one of many possibilities (Fitelson 1999).\nWhile the lack of association between \\(M\\) and \\(T\\) is sufficient to\nrule out AMP for most measures (including the difference measure) it\ndoes not rule it out for all measures, as we will now explain. Readers\nnot interested the specific details may skip to the following\nsection.\n\nHere are some widely used association measures for a dataset \\((a, b,\nc, d)\\):  \n\n\\[\\begin{align*}\n\\pi_{D} &= \\frac{a}{a+b} - \\frac{c}{c+d} & \\pi_{Y} &= \\frac{ad -bc}{N^2}\\\\\n%\n\\pi_{R} &= \\log \\left(\\frac{a}{a+b} \\cdot \\frac{c+d}{c} \\right) & \\pi_{W} &= \\log \\left(\\frac{a}{a+c} \\cdot \\frac{b+d}{b} \\right) \\\\\n%\n\\pi_{O} &= \\log \\frac{ad}{bc} & \\pi_{C} &= \\log \\left(\\frac{d}{c+d} \\cdot \\frac{a+b}{a} \\right) \\end{align*}\\]\n\n\nSome of these measures can be formulated probabilistically and have\nbeen suggested as measures of causal strength and outcome measures for\nclinical trials (Edwards 1963; Eells 1991; Fitelson & Hitchcock\n2011; Greenland 1987; Peirce 1884; Sprenger 2018; Sprenger &\nStegenga 2017). For example, \\(\\pi_{D} = p(\\r{S}\\mid \\r{T}) -\np(\\r{S}\\mid \\neg \\r{T})\\) represents the difference and \\(\\pi_R =\np(\\r{S}\\mid \\r{T}) / p(\\r{S}\\mid \\neg \\r{T})\\) the ratio of success\nrates in treatment and control conditions. \\(\\pi_W\\) can be\ninterpreted as the prognostic weight of evidence that treatment\nprovides for success (i.e., as the log-Bayes factor), \\(\\pi_{Y}\\) is\nYule\u2019s (1903) measure of association, \\(\\pi_{O}\\) is the\nlog-odds ratio familiar from epidemiological data analysis, and\n\\(\\pi_C\\) I.J. Good\u2019s (1960) measure of causal strength.\n\nWe now consider the extent to which AMP for different measures is\nruled out by different experimental designs. Suppose that individuals\nare uniformly assigned to the treatment and control condition across\nsubpopulations. In such a case, where the ratio of persons assigned to\nthe treatment and control condition is equal for each subpopulation,\nthe experimental design is called row-uniform.\nSpecifically, there has to be a \\(\\lambda > 0\\) such that for any\nsubpopulation i \n\n\n\\[\n  a_i + b_i = \\lambda (c_i+d_i) \\tag{Row Uniformity}\n\\]\n\n\n\nIn particular, row uniformity holds approximately if our sample is\nlarge and we sample at random from the population.\n\nRow-uniform design of a trial ensures independence between a potential\nconfounder \\(M\\) and the treatment variable \\(T\\). Accordingly, by\n Theorem 1,\n it rules out association reversals. Additionally, row-uniform design\nis sufficient to rule out the AMP for a wide class of association\nmeasures:\n\nTheorem 2 (Good & Mittal 1987): If a\ndataset \\(D = \\sum D_{i}\\) satisfies row uniformity, then the\nAmalgamation Paradox is avoided for the measures \\(\\pi_{D}\\),\n\\(\\pi_{R}\\), \\(\\pi_{Y}\\) and \\(\\pi_{W}\\) and \\(\\pi_{C}\\). It is\nnot avoided for the log-odds ratio \\(\\pi_{O}\\).\n\nSome studies also exhibit column-uniform design where\nthe proportion of successes and failures is constant across all\nsubpopulations: \n\n\\[\n  a_i + c_i = \\lambda (b_i+d_i) \\tag{Column Uniformity}\n\\]\n\n\nAlso then \\(\\r{M}\\) is independent of \\(\\r{S}\\). Column uniformity can\noccur in case-control studies with various subpopulations (e.g.,\ndifferent hospitals) where one does not match the number of persons\nwith the explanatory attribute, like in an RCT. Instead, for each\nperson with a certain attribute (e.g., a specific form of cancer), one\nselects a number of persons that does not have this attribute.\nColumn-uniform design avoids AR as well, but among the presented\nassociation measures, it suffices to rule out AMP only for\n\\(\\pi_Y\\).\n\n\n\n\nAssociation Measure \n\nAvoids AMP?\n\\(\\pi_{D}\\)\n\\(\\pi_{R}\\)\n\\(\\pi_{O}\\)\n\\(\\pi_{Y}\\)\n\\(\\pi_{W}\\)\n\\(\\pi_{C}\\) \n\nRow-uniform design\nyes\nyes\nno\nyes\nyes\nyes \n\nColumn-uniform design\nno\nno\nno\nyes\nno\nno \n\nBoth\nyes\nyes\nyes\nyes\nyes\nyes \n\n\nTable 3: An overview of how row- and\ncolumn-uniform design avoid the amalgamation paradox for various\nassociation measures.\n\n\nTable 3\n summarizes the properties of all association measures with respect to\nthe AMP and the different forms of experimental design. The behavior\nof the log-odds measure \\(\\pi_O\\), where neither row- nor\ncolumn-uniform design suffices to rule out the AMP, will be discussed\nin\n Section 5.2.\n\nWe now identify one last fundamental condition for when data exhibit\nassociation reversal. Have a look at\n Figure 1\n which displays the success proportions for treatment and control\ngraphically.\n\n\n\nFigure 1: A geometrical representation\nof a necessary condition for the occurrence of Association Reversal.\nThe paradox can occur if the proportions are ordered like in the left\ngraph; it cannot occur if they are ordered like in the right graph.\n[An\n extended description of figure 1\n is in the supplement.]\n\n\nIn both examples, the treatment success rate is for both\nsubpopulations greater than the control success rate. When will this\norder be preserved at the overall level? We know that the overall\nsuccess rate for each condition (treatment/control) is\nconstrained by the success rates in the subpopulations:\n\n\nFact 1: Suppose \\(a_i, b_i > 0\\) for all\n\\(1 \\le i \\le N\\). Then also  \n\n\\[\\begin{align*}\\tag{2}\n    \\min \\frac{a_i}{a_i+b_i} \\le \\frac{\\sum_{j=1}^N a_j}{\\sum_{j=1}^N (a_j+b_j)} \\le \\max \\frac{a_i}{a_i+b_i}\n  \\end{align*}\\]\n\n\n\nThis fact follows directly from the Law of Total Probability (proof\nomitted) and it gives us a simple necessary condition for the\noccurrence of Association Reversal (AR): turning to\n Figure 1\n again, it implies that the overall success rate per condition has to\nbe on the solid lines. Thus AR cannot occur in the right part\nof\n Figure 1,\n but it can occur if the proportions are ordered as in the left part\nof\n Figure 1.\n Generally, AR is avoided when the following condition holds: \n\n\n\\[\\tag{RH}\n\\begin{align*}\n\\max_{1 \\le i \\le N} \\frac{a_i}{a_i+b_i} & < \\min_{1 \\le i \\le N} \\frac{c_i}{c_i+d_i} \\\\[2ex]\n\\:\\text{ or }\\:\\\\[2ex]\n \\min_{1 \\le i \\le N} \\frac{a_i}{a_i+b_i} & > \\max_{1 \\le i \\le N} \\frac{c_i}{c_i+d_i} \n\\end{align*}\n\\]\n\n\n\nAny dataset that satisfies\n (RH)\n will be called row-homogenous. By contrast, for any\ngiven set of proportions violating condition\n (RH),\n we can find datasets exhibiting these very same proportions such that\nAR indeed occurs (by fiddling with the size of the subpopulations;\nLemma 3.1 in Mittal 1991). However, neither row homogeneity, nor the\nanalogous condition of column homogeneity, nor their conjunction is\nsufficient for avoiding the amalgamation paradox AMP.\n\nFinally, one might be interested in how frequently the paradox arises.\nSimulations by Pavlides and Perlman (2009) suggest that it should not\noccur frequently: the confidence interval for the probability of AR is\na subset of the interval \\([0;0.03]\\) for both the uniform prior and\nthe (objective) Jeffreys prior. Of course, the practical value of this\ndiagnosis depends on whether the sampling assumptions are sensible,\nand whether the entire approach makes sense for real-life datasets\nwhere researchers can group the data into subpopulations along\nnumerous dimensions.\n",
    "section_title": "2.2 Necessary and Sufficient Conditions",
    "entry_title": "Simpson\u2019s Paradox",
    "hierarchy_title": "Simpson\u2019s Paradox || Definition and Mathematical Characterization || Necessary and Sufficient Conditions",
    "tokenized_text": [
        "definition",
        "mathematical",
        "characterization",
        "necessary",
        "sufficient",
        "condition",
        "necessary",
        "sufficient",
        "condition",
        "proceed",
        "characterizing",
        "mathematical",
        "condition",
        "simpson",
        "paradox",
        "occurs",
        "already",
        "suggested",
        "paradox",
        "arises",
        "medical",
        "example",
        "due",
        "correlation",
        "treatment",
        "variable",
        "partitioning",
        "variable",
        "make",
        "precise",
        "theorem",
        "lindley",
        "novick",
        "mittal",
        "alpha",
        "association",
        "reversal",
        "occurs",
        "subpopulation",
        "characterized",
        "attribute",
        "r",
        "negr",
        "ie",
        "alpha",
        "d_",
        "alpha",
        "d_",
        "le",
        "either",
        "r",
        "positively",
        "related",
        "r",
        "r",
        "r",
        "positively",
        "related",
        "negr",
        "negr",
        "theorem",
        "make",
        "clear",
        "lack",
        "correlation",
        "r",
        "r",
        "sufficient",
        "rule",
        "association",
        "reversal",
        "thus",
        "yap",
        "well",
        "also",
        "rule",
        "general",
        "amalgamation",
        "paradox",
        "answer",
        "depends",
        "measure",
        "association",
        "one",
        "chooses",
        "alpha",
        "discussion",
        "simpson",
        "paradox",
        "commonly",
        "treat",
        "association",
        "difference",
        "success",
        "rate",
        "treated",
        "untreated",
        "one",
        "many",
        "possibility",
        "fitelson",
        "lack",
        "association",
        "m",
        "t",
        "sufficient",
        "rule",
        "amp",
        "measure",
        "including",
        "difference",
        "measure",
        "rule",
        "measure",
        "explain",
        "reader",
        "interested",
        "specific",
        "detail",
        "may",
        "skip",
        "following",
        "section",
        "widely",
        "used",
        "association",
        "measure",
        "dataset",
        "b",
        "c",
        "begin",
        "align",
        "pi_",
        "frac",
        "ab",
        "frac",
        "c",
        "cd",
        "pi_",
        "frac",
        "ad",
        "bc",
        "n",
        "pi_",
        "r",
        "log",
        "left",
        "frac",
        "ab",
        "cdot",
        "frac",
        "cd",
        "c",
        "right",
        "pi_",
        "w",
        "log",
        "left",
        "frac",
        "ac",
        "cdot",
        "frac",
        "bd",
        "b",
        "right",
        "pi_",
        "log",
        "frac",
        "ad",
        "bc",
        "pi_",
        "c",
        "log",
        "left",
        "frac",
        "cd",
        "cdot",
        "frac",
        "ab",
        "right",
        "end",
        "align",
        "measure",
        "formulated",
        "probabilistically",
        "suggested",
        "measure",
        "causal",
        "strength",
        "outcome",
        "measure",
        "clinical",
        "trial",
        "edward",
        "eells",
        "fitelson",
        "hitchcock",
        "greenland",
        "peirce",
        "sprenger",
        "sprenger",
        "stegenga",
        "example",
        "pi_",
        "p",
        "r",
        "mid",
        "r",
        "p",
        "r",
        "mid",
        "neg",
        "r",
        "represents",
        "difference",
        "pi_r",
        "p",
        "r",
        "mid",
        "r",
        "p",
        "r",
        "mid",
        "neg",
        "r",
        "ratio",
        "success",
        "rate",
        "treatment",
        "control",
        "condition",
        "pi_w",
        "interpreted",
        "prognostic",
        "weight",
        "evidence",
        "treatment",
        "provides",
        "success",
        "ie",
        "logbayes",
        "factor",
        "pi_",
        "yule",
        "measure",
        "association",
        "pi_",
        "logodds",
        "ratio",
        "familiar",
        "epidemiological",
        "data",
        "analysis",
        "pi_c",
        "ij",
        "good",
        "measure",
        "causal",
        "strength",
        "consider",
        "extent",
        "amp",
        "different",
        "measure",
        "ruled",
        "different",
        "experimental",
        "design",
        "suppose",
        "individual",
        "uniformly",
        "assigned",
        "treatment",
        "control",
        "condition",
        "across",
        "subpopulation",
        "case",
        "ratio",
        "person",
        "assigned",
        "treatment",
        "control",
        "condition",
        "equal",
        "subpopulation",
        "experimental",
        "design",
        "called",
        "rowuniform",
        "specifically",
        "lambda",
        "subpopulation",
        "a_i",
        "b_i",
        "lambda",
        "c_id_i",
        "tag",
        "row",
        "uniformity",
        "particular",
        "row",
        "uniformity",
        "hold",
        "approximately",
        "sample",
        "large",
        "sample",
        "random",
        "population",
        "rowuniform",
        "design",
        "trial",
        "ensures",
        "independence",
        "potential",
        "confounder",
        "m",
        "treatment",
        "variable",
        "t",
        "accordingly",
        "theorem",
        "rule",
        "association",
        "reversal",
        "additionally",
        "rowuniform",
        "design",
        "sufficient",
        "rule",
        "amp",
        "wide",
        "class",
        "association",
        "measure",
        "theorem",
        "good",
        "mittal",
        "dataset",
        "sum",
        "d_",
        "satisfies",
        "row",
        "uniformity",
        "amalgamation",
        "paradox",
        "avoided",
        "measure",
        "pi_",
        "pi_",
        "r",
        "pi_",
        "pi_",
        "w",
        "pi_",
        "c",
        "avoided",
        "logodds",
        "ratio",
        "pi_",
        "study",
        "also",
        "exhibit",
        "columnuniform",
        "design",
        "proportion",
        "success",
        "failure",
        "constant",
        "across",
        "subpopulation",
        "a_i",
        "c_i",
        "lambda",
        "b_id_i",
        "tag",
        "column",
        "uniformity",
        "also",
        "r",
        "independent",
        "r",
        "column",
        "uniformity",
        "occur",
        "casecontrol",
        "study",
        "various",
        "subpopulation",
        "eg",
        "different",
        "hospital",
        "one",
        "match",
        "number",
        "person",
        "explanatory",
        "attribute",
        "like",
        "rct",
        "instead",
        "person",
        "certain",
        "attribute",
        "eg",
        "specific",
        "form",
        "cancer",
        "one",
        "selects",
        "number",
        "person",
        "attribute",
        "columnuniform",
        "design",
        "avoids",
        "ar",
        "well",
        "among",
        "presented",
        "association",
        "measure",
        "suffices",
        "rule",
        "amp",
        "pi_y",
        "association",
        "measure",
        "avoids",
        "amp",
        "pi_",
        "pi_",
        "r",
        "pi_",
        "pi_",
        "pi_",
        "w",
        "pi_",
        "c",
        "rowuniform",
        "design",
        "yes",
        "yes",
        "yes",
        "yes",
        "yes",
        "columnuniform",
        "design",
        "yes",
        "yes",
        "yes",
        "yes",
        "yes",
        "yes",
        "yes",
        "table",
        "overview",
        "row",
        "columnuniform",
        "design",
        "avoid",
        "amalgamation",
        "paradox",
        "various",
        "association",
        "measure",
        "table",
        "summarizes",
        "property",
        "association",
        "measure",
        "respect",
        "amp",
        "different",
        "form",
        "experimental",
        "design",
        "behavior",
        "logodds",
        "measure",
        "pi_o",
        "neither",
        "row",
        "columnuniform",
        "design",
        "suffices",
        "rule",
        "amp",
        "discussed",
        "section",
        "identify",
        "one",
        "last",
        "fundamental",
        "condition",
        "data",
        "exhibit",
        "association",
        "reversal",
        "look",
        "figure",
        "display",
        "success",
        "proportion",
        "treatment",
        "control",
        "graphically",
        "figure",
        "geometrical",
        "representation",
        "necessary",
        "condition",
        "occurrence",
        "association",
        "reversal",
        "paradox",
        "occur",
        "proportion",
        "ordered",
        "like",
        "left",
        "graph",
        "occur",
        "ordered",
        "like",
        "right",
        "graph",
        "extended",
        "description",
        "figure",
        "supplement",
        "example",
        "treatment",
        "success",
        "rate",
        "subpopulation",
        "greater",
        "control",
        "success",
        "rate",
        "order",
        "preserved",
        "overall",
        "level",
        "know",
        "overall",
        "success",
        "rate",
        "condition",
        "treatmentcontrol",
        "constrained",
        "success",
        "rate",
        "subpopulation",
        "fact",
        "suppose",
        "a_i",
        "b_i",
        "le",
        "le",
        "n",
        "also",
        "begin",
        "align",
        "tag",
        "min",
        "frac",
        "a_i",
        "a_ib_i",
        "le",
        "frac",
        "sum_",
        "j",
        "n",
        "a_j",
        "sum_",
        "j",
        "n",
        "a_jb_j",
        "le",
        "max",
        "frac",
        "a_i",
        "a_ib_i",
        "end",
        "align",
        "fact",
        "follows",
        "directly",
        "law",
        "total",
        "probability",
        "proof",
        "omitted",
        "give",
        "u",
        "simple",
        "necessary",
        "condition",
        "occurrence",
        "association",
        "reversal",
        "ar",
        "turning",
        "figure",
        "implies",
        "overall",
        "success",
        "rate",
        "per",
        "condition",
        "solid",
        "line",
        "thus",
        "ar",
        "occur",
        "right",
        "part",
        "figure",
        "occur",
        "proportion",
        "ordered",
        "left",
        "part",
        "figure",
        "generally",
        "ar",
        "avoided",
        "following",
        "condition",
        "hold",
        "tag",
        "rh",
        "begin",
        "align",
        "max_",
        "le",
        "le",
        "n",
        "frac",
        "a_i",
        "a_ib_i",
        "min_",
        "le",
        "le",
        "n",
        "frac",
        "c_i",
        "c_id_i",
        "ex",
        "text",
        "ex",
        "min_",
        "le",
        "le",
        "n",
        "frac",
        "a_i",
        "a_ib_i",
        "max_",
        "le",
        "le",
        "n",
        "frac",
        "c_i",
        "c_id_i",
        "end",
        "align",
        "dataset",
        "satisfies",
        "rh",
        "called",
        "rowhomogenous",
        "contrast",
        "given",
        "set",
        "proportion",
        "violating",
        "condition",
        "rh",
        "find",
        "datasets",
        "exhibiting",
        "proportion",
        "ar",
        "indeed",
        "occurs",
        "fiddling",
        "size",
        "subpopulation",
        "lemma",
        "mittal",
        "however",
        "neither",
        "row",
        "homogeneity",
        "analogous",
        "condition",
        "column",
        "homogeneity",
        "conjunction",
        "sufficient",
        "avoiding",
        "amalgamation",
        "paradox",
        "amp",
        "finally",
        "one",
        "might",
        "interested",
        "frequently",
        "paradox",
        "arises",
        "simulation",
        "pavlides",
        "perlman",
        "suggest",
        "occur",
        "frequently",
        "confidence",
        "interval",
        "probability",
        "ar",
        "subset",
        "interval",
        "uniform",
        "prior",
        "objective",
        "jeffreys",
        "prior",
        "course",
        "practical",
        "value",
        "diagnosis",
        "depends",
        "whether",
        "sampling",
        "assumption",
        "sensible",
        "whether",
        "entire",
        "approach",
        "make",
        "sense",
        "reallife",
        "datasets",
        "researcher",
        "group",
        "data",
        "subpopulation",
        "along",
        "numerous",
        "dimension"
    ]
}